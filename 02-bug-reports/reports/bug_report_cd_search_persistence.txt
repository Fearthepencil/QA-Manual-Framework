---

[READY] [CD CATEGORY SEARCH] Search filter persists across categories and causes empty results

---

### Description

When searching for CDs in the 'Blues' category using the letter 'A', the system displays an empty category error message ("There are no products in this category"). This error message is not interactive. Furthermore, if the user then navigates to a different CD category using the left sidebar, the search filter persists, causing the new category to also display empty results, even if products exist in that category. The user must manually clear the search filter to see products in other categories.

---

### Expected Behaviour

- Entering a search term in one category should only filter results within that category
- Navigating to a new category should reset or clear the previous search filter, displaying all products in the new category by default
- If no products match the search, the user should be able to easily clear the filter or be prompted to do so
- Error messages should be clear and, if appropriate, provide a way to reset the search

---

### Actual Behaviour

- Searching for 'A' in 'Blues' category shows a non-clickable empty category error
- Navigating to another category (e.g., 'Alternative') keeps the search filter active, resulting in empty results even if products exist
- The user must manually clear the search field to see products in the new category
- No prompt or automatic reset of the search filter occurs when changing categories

---

### Steps to Reproduce

1. Navigate to https://sut.testingcup.rs/build2/
2. Click on "CDs" in the main navigation
3. Select the "Blues" category from the left sidebar
4. Enter 'A' in the search field
5. Observe the empty category error message
6. Without clearing the search, select a different category (e.g., "Alternative") from the sidebar
7. Observe that the new category also shows empty results due to the persistent search filter

---

### Evidence

- Screenshot showing empty category error in 'Blues' after searching 'A' (Filename: blues_search_empty.png)
- Screenshot showing empty results in 'Alternative' after switching categories with search still active (Filename: alternative_search_empty.png)

---

### Technical Details

- URL: https://sut.testingcup.rs/build2/cds
- Browsers: Chrome 120.0.6099.109, Firefox 121.0, Edge 120.0.2210.91
- OS: Windows 10, macOS 14.2
- Console: No JavaScript errors observed
- Network: All assets load normally, no failed requests detected

---

### Impact Assessment

- **Severity:** Major
- **User Impact:** Users may believe there are no products in multiple categories, leading to confusion and poor shopping experience
- **Business Impact:** Potential loss of sales due to users not seeing available products, increased support requests, negative perception of site usability

---

### Requirement Coverage

- [ ] Req-1-1: E-commerce Platform
- [ ] Req-1-2: Book Properties  
- [x] Req-1-3: CD Properties
- [x] Req-1-4: Product Categorization
- [x] Req-1-5: Category Product Summaries
- [x] Req-1-6: Category Search
- [ ] Req-1-7: Product Description
- [ ] Req-1-8: High-Resolution Covers
- [ ] Req-1-9: Favorite Products
- [ ] Req-1-10: Add to Shopping Basket
- [ ] Req-1-11: Shopping Basket Functions
- [ ] Req-1-12: Registered User Checkout
- [ ] Req-1-13: Login Functionality
- [ ] Req-1-14: Global Product Search
- [ ] Req-1-15: Customer Registration
- [ ] Req-1-16: Payment Process

---

### Test Plan Traceability

- ✅ Test Case ID: TC-1-6-1 – Test product search within current category
- ✅ Test Type: Functional
- ✅ Risk Level: High

---

### Reproducibility

- Frequency: Always
- Conditions: Requires use of category search and navigation between categories

---

### Bug Report Metadata

- Reported By: QA Team
- Date Reported: 2024-12-19 15:45:00
- Bug ID: BUG-018
- Status: Found
- Assigned To: Development Team
- Evidence Location: Screenshots stored in project evidence folder
- Linked Test Case: TC-1-6-1
- Requirement Reference: Req-1-3, Req-1-4, Req-1-5, Req-1-6

--- 